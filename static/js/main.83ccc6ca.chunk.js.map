{"version":3,"sources":["../node_modules/peerjs/dist sync","pages/PeerInfo/PeerInfo.jsx","pages/TitleScreen/TitleScreen.jsx","pages/WaitingRoom/WaitingRoom.jsx","components/Square/Square.jsx","components/Board/Board.jsx","pages/Game/LocalGame.jsx","pages/Game/OnlineGame.jsx","pages/Rematch/Rematch.jsx","pages/Router.jsx","reportWebVitals.js","index.js"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","PeerContext","createContext","PeerProvider","children","navigate","useNavigate","useState","conn","setConn","Peer","peer","shape","setShape","onTurn","setOnTurn","Array","fill","squares","setSquares","restartCount","setRCount","connection","joinPeer","connect","on","recievedConnection","useEffect","data","console","log","err","Provider","value","TitleScreen","contextProps","useContext","idValue","setIdValue","joinGame","a","preventDefault","alert","className","onClick","onSubmit","onChange","target","placeholder","size","required","WaitingRoom","text","Square","props","handleClick","index","Board","map","square","i","LGame","Xturn","setXturn","winner","lines","length","b","c","calculateWinner","includes","localSquares","OGame","update","forceUpdate","send","Rematch","restartText","setRText","useParams","WhoWon","Router","exact","path","element","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.83ccc6ca.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 19;","import React, { useState, useEffect, createContext } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Peer from \"peerjs\";\r\n\r\nexport const PeerContext = createContext()\r\n\r\n//TODO add text when opponent left \r\n\r\nconst PeerProvider = ({ children }) => {\r\n    const navigate = useNavigate();\r\n\r\n    const [conn, setConn] = useState(null)\r\n    const [peer] = useState(new Peer())\r\n\r\n    const [shape, setShape] = useState(null)\r\n    const [onTurn, setOnTurn] = useState(false)\r\n    const [squares, setSquares] = useState(Array(9).fill(null))\r\n\r\n    const [restartCount, setRCount] = useState(0)\r\n\r\n    let connection = {\r\n        peer: peer,\r\n        conn: conn,\r\n\r\n        shape: shape,\r\n\r\n        onTurn: onTurn,\r\n        setOnTurn: setOnTurn,\r\n\r\n        squares: squares,\r\n        setSquares: setSquares,\r\n        joinPeer: updateConn,\r\n\r\n        restartCount: restartCount,\r\n        setRCount: setRCount\r\n    }\r\n\r\n    function updateConn(id){\r\n        setShape(\"O\")\r\n        setConn(peer.connect(id))\r\n    }\r\n\r\n    peer.on('connection', function(recievedConnection) {\r\n        setShape(\"X\")\r\n        setOnTurn(true)\r\n        setConn(recievedConnection)\r\n        navigate(\"/TicTacToe/onlineGame\")\r\n    });\r\n\r\n    useEffect(() => {\r\n        if(connection.conn){\r\n            conn.on('open', function() {\r\n                conn.on('data', function(data) {\r\n                    //console.log('Received data:', data);\r\n                    if (typeof(data) === \"object\") {\r\n                        setSquares(data)\r\n                        setOnTurn(true)\r\n                    }\r\n                    else if (typeof(data) === \"string\") {\r\n                        if (data === \"restartWait\") {\r\n                            setRCount(restartCount + 1)\r\n                        }\r\n                        else if (data === \"restart\") {\r\n                            navigate(\"/TicTacToe/onlineGame\")\r\n                        }\r\n                    }\r\n                    \r\n                });\r\n          \r\n                conn.on('close', () => {\r\n                    console.log(\"Connection Closed\")\r\n                });\r\n          \r\n                conn.on('error', err => {\r\n                    console.log(\"ERROR: \", err);\r\n                });\r\n            });\r\n            \r\n            //can add more\r\n        }\r\n      });\r\n\r\n    return (\r\n        <PeerContext.Provider value={connection}>\r\n            {children}\r\n        </PeerContext.Provider>\r\n    )\r\n}\r\n\r\nexport default PeerProvider","import React, { useState, useContext } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport \"../../index.css\";\r\nimport { PeerContext } from \"../PeerInfo/PeerInfo\";\r\n\r\nfunction TitleScreen() {\r\n    const navigate = useNavigate();\r\n    const contextProps = useContext(PeerContext)\r\n\r\n    const [idValue, setIdValue] = useState('')\r\n\r\n    function createGame() {\r\n        navigate(\"/TicTacToe/wait\")\r\n    }\r\n\r\n    const joinGame = async(e) => {\r\n        if(idValue !== \"\") {\r\n            if(idValue !== contextProps.peer.id){\r\n                e.preventDefault();\r\n                \r\n                contextProps.joinPeer(idValue)\r\n\r\n                navigate(\"/TicTacToe/onlineGame\")\r\n        \r\n            }\r\n            else {\r\n                alert(\"Can't connect to yourself\")\r\n            }\r\n        }\r\n        else {\r\n            alert(\"Can't be empty\")\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"centerDivElementCol min-h-screen\">\r\n            <div>\r\n                <p className=\"text-5xl\">TicTacToe</p>\r\n            </div>\r\n            <div>\r\n                <button className=\"button\" onClick={createGame}>Create Game</button>\r\n            </div>\r\n            <form className=\"centerDivElement\" onSubmit={joinGame}>\r\n                <div>\r\n                    <input className=\"textField\" value={idValue} onChange={(e) => setIdValue(e.target.value)}\r\n                    id=\"roomID\" placeholder=\"Room ID\" size=\"38\" required></input>\r\n                </div>\r\n                <div>\r\n                    <button className=\"button\" onClick={joinGame}>Join Game</button>\r\n                </div>\r\n            </form>\r\n            {/*<button className=\"button\" onClick={() => console.log(contextProps.peer.id)}>Pear ID</button>\r\n            <button className=\"button\" onClick={() => console.log(\"conn: \", contextProps.conn)}>Conn ID</button>\r\n            <button className=\"button\" onClick={() => {\r\n                contextProps.conn.send(\"hello\")\r\n            }}>Send</button>*/}\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default TitleScreen","import React, { useContext } from \"react\";\r\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport \"../../index.css\";\r\n\r\nimport { PeerContext } from \"..//PeerInfo/PeerInfo\";\r\n\r\n\r\nfunction WaitingRoom() {\r\n    const navigate = useNavigate();\r\n    const contextProps = useContext(PeerContext)\r\n    \r\n    return (\r\n        <div className=\"centerDivElementCol min-h-screen\">\r\n            <div>\r\n                <p className=\"text-5xl\">Waiting for the opponent ...</p>\r\n            </div>\r\n            <div>\r\n                <p className=\"IDtext\">{\"ID: \" + contextProps.peer.id}</p>\r\n            </div>\r\n            <div>\r\n                <CopyToClipboard text={contextProps.peer.id}>\r\n                    <button className=\"button\">COPY</button>\r\n                </CopyToClipboard>\r\n            </div>\r\n            <div>\r\n                <button className=\"button\" onClick={() => navigate(\"/TicTacToe/localGame\")}>Local Game</button>\r\n            </div>\r\n            <div>\r\n                <button className=\"button\" onClick={() => navigate(\"/TicTacToe\")}>Back</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default WaitingRoom","import React from \"react\";\r\n\r\nfunction Square(props) {\r\n    return (\r\n        <button className=\"squareDim\" onClick={() => props.handleClick(props.index)}>\r\n            {props.value}\r\n        </button>\r\n    )\r\n}\r\n\r\nexport default Square","import Square from \"../Square/Square\"\r\n\r\nfunction Board(props) {\r\n    //squares[1] = \"X\"\r\n    return (\r\n        props.squares.map((square, i) => <Square key={i} index={i} value={square} handleClick={props.handleClick}></Square>) // onClick={() => props.onClick(i)}\r\n    )\r\n}\r\n\r\nexport default Board","import React, { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Board from \"../../components/Board/Board\"\r\nimport \"../../index.css\";\r\n\r\nfunction LGame() {\r\n  const navigate = useNavigate();\r\n\r\n  const [Xturn, setXturn] = useState(true)\r\n  const [squares, setSquares] = useState(Array(9).fill(null))\r\n  const winner = calculateWinner(squares)\r\n\r\n  function calculateWinner(squares) {\r\n    const lines = [\r\n      [0, 1, 2],\r\n      [3, 4, 5],\r\n      [6, 7, 8],\r\n      [0, 3, 6],\r\n      [1, 4, 7],\r\n      [2, 5, 8],\r\n      [0, 4, 8],\r\n      [2, 4, 6]\r\n    ];\r\n\r\n    for (let i = 0; i < lines.length; i++) {\r\n      const [a, b, c] = lines[i];\r\n      if (squares[a] && squares[a] === squares[b] && squares[a] === squares[c]) {\r\n        return squares[a];\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  function handleClick(i) {\r\n    if(winner) {\r\n      return // title screen TODO\r\n    }\r\n    else if(squares[i] == null) {\r\n      let localSquares = squares\r\n      localSquares[i] = Xturn ? \"X\" : \"O\"\r\n      setSquares(localSquares)\r\n      setXturn(!Xturn)\r\n\r\n    }\r\n  }\r\n\r\n  function nextTurn() {\r\n    if(winner) {\r\n      navigate(\"/TicTacToe/game/rematch/\" + winner);\r\n    }\r\n    else if(!squares.includes(null)) {\r\n      navigate(\"/TicTacToe/game/rematch/D\")\r\n    }\r\n    return Xturn ? \"X's turn\" : \"O's turn\"\r\n  }\r\n\r\n  return (\r\n    <div className=\"setScreenSize\">\r\n      <div className=\"sideBar\">\r\n        {/* !need to add that the opponent left */}\r\n        <button className=\"button\" onClick={() => navigate(\"/TicTacToe\")}>Menu</button>\r\n      </div>\r\n\r\n      <div className=\"w-screen h-screen\">\r\n        <div className=\"centerDivElement text-5xl\">\r\n          <p>{nextTurn()}</p>\r\n        </div>\r\n\r\n        <div className=\"centerDivElement boardDiv\">\r\n          <div className=\"board grid grid-rows-3 grid-cols-3\">\r\n            <Board squares={squares} handleClick={handleClick} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LGame;\r\n","import React, { useContext, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Board from \"../../components/Board/Board\"\r\nimport \"../../index.css\";\r\n\r\nimport { PeerContext } from \"../PeerInfo/PeerInfo\";\r\n\r\nfunction OGame() {\r\n  const navigate = useNavigate();\r\n  const contextProps = useContext(PeerContext)\r\n\r\n  const [update, forceUpdate] = useState(0)\r\n\r\n  //const [squares, setSquares] = useState(Array(9).fill(null))\r\n  const winner = calculateWinner(contextProps.squares)\r\n\r\n\r\n  function calculateWinner(squares) {\r\n    const lines = [\r\n      [0, 1, 2],\r\n      [3, 4, 5],\r\n      [6, 7, 8],\r\n      [0, 3, 6],\r\n      [1, 4, 7],\r\n      [2, 5, 8],\r\n      [0, 4, 8],\r\n      [2, 4, 6]\r\n    ];\r\n\r\n    for (let i = 0; i < lines.length; i++) {\r\n      const [a, b, c] = lines[i];\r\n      if (squares[a] && squares[a] === squares[b] && squares[a] === squares[c]) {\r\n        return squares[a];\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  function handleClick(i) {\r\n    \r\n\r\n    if(contextProps.squares[i] == null && contextProps.onTurn) {\r\n        let localSquares = contextProps.squares\r\n        localSquares[i] = contextProps.shape\r\n\r\n        contextProps.setSquares(localSquares)\r\n        contextProps.onTurn = false\r\n        \r\n        contextProps.conn.send(localSquares)\r\n        forceUpdate(update + 1)\r\n    }\r\n  }\r\n\r\n  function nextTurn() {\r\n    if(winner) {\r\n      contextProps.setSquares(Array(9).fill(null))\r\n      navigate(\"/TicTacToe/game/rematch/\" + winner);\r\n    }\r\n    else if(!contextProps.squares.includes(null)) {\r\n      contextProps.setSquares(Array(9).fill(null))\r\n      navigate(\"/TicTacToe/game/rematch/draw\")\r\n    }\r\n    return contextProps.onTurn ? \"Your turn\" : \"Opponent's turn\"\r\n  }\r\n\r\n  return (\r\n    <div className=\"setScreenSize\">\r\n      <div className=\"w-screen h-screen\">\r\n        <div className=\"sideBar\">\r\n          {/* !need to add that the opponent left */}\r\n          <button className=\"button\" onClick={() => navigate(\"/TicTacToe\")}>Menu</button>\r\n        </div>\r\n\r\n        <div className=\"centerDivElement text-5xl\">\r\n          <p>{nextTurn()}</p>\r\n        </div>\r\n\r\n        <div className=\"centerDivElement boardDiv\">\r\n          <div className=\"board grid grid-rows-3 grid-cols-3\">\r\n            <Board squares={contextProps.squares} handleClick={handleClick} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default OGame;\r\n","import React, { useState, useContext } from \"react\";\r\nimport { PeerContext } from \"..//PeerInfo/PeerInfo\";\r\nimport { \r\n    useNavigate, \r\n    useParams \r\n} from \"react-router-dom\";\r\nimport \"../../index.css\";\r\n\r\nfunction Rematch() {\r\n    const navigate = useNavigate();\r\n    const contextProps = useContext(PeerContext)\r\n    const [restartText, setRText] = useState(\"Click restart to rematch your opponent\")\r\n\r\n    function WhoWon() {\r\n        const { winner } = useParams()\r\n    \r\n        if (winner !== \"draw\") {\r\n            if (contextProps.shape === winner) {\r\n                contextProps.setOnTurn(false)\r\n            }\r\n            else {\r\n                contextProps.setOnTurn(true)\r\n            }\r\n            return winner + \" won the game!\"\r\n        }\r\n        else {\r\n            return \"Draw!\"\r\n        }\r\n    }\r\n\r\n    function home() {\r\n        navigate(\"/TicTacToe\")\r\n    }\r\n    \r\n    function restart() {\r\n        console.log(contextProps)\r\n        if (!contextProps.conn) {\r\n            navigate(\"/TicTacToe/localGame\")\r\n        }\r\n        else {\r\n            console.log(contextProps.restartCount)\r\n            if (contextProps.restartCount === 0){\r\n                contextProps.conn.send(\"restartWait\")\r\n                setRText(\"Waiting for opponent\")\r\n                //setRText(\"Opponent is waiting for you\") in peer wait\r\n            }\r\n            else {\r\n                contextProps.conn.send(\"restart\")\r\n                navigate(\"/TicTacToe/onlineGame\")   \r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"centerDivElementCol min-h-screen\">\r\n            <div>\r\n                <p className=\"text-5xl\">{WhoWon()}</p>\r\n            </div>\r\n            <div>\r\n                <button className=\"button marginTopPlus\" onClick={() => home()}>Menu</button>\r\n                <button className=\"button marginTopPlus\" onClick={() => restart()}>Restart</button>\r\n            </div>\r\n                <h1>{restartText}</h1>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Rematch","import React from \"react\";\r\nimport { Route, Routes } from \"react-router-dom\";\r\n\r\nimport TitleScreen from \"./TitleScreen/TitleScreen\";\r\nimport WaitingRoom from \"./WaitingRoom/WaitingRoom\";\r\nimport LGame from \"./Game/LocalGame\";\r\nimport OGame from \"./Game/OnlineGame\";\r\nimport Rematch from \"./Rematch/Rematch\";\r\n\r\n\r\nfunction Router() {\r\n  return(\r\n      <Routes>\r\n        <Route exact path=\"/TicTacToe\" element={<TitleScreen />} /> {/* <TitleScreen /> */}\r\n        <Route exact path=\"/TicTacToe/wait\" element={<WaitingRoom />} /> {/* <WaitingRoom /> */}\r\n        <Route exact path=\"/TicTacToe/localGame\" element={<LGame />} />\r\n        <Route exact path=\"/TicTacToe/onlineGame\" element={<OGame />} />\r\n        <Route path=\"/TicTacToe/game/rematch/:winner\" element={<Rematch />} />\r\n      </Routes>\r\n  )\r\n}\r\n\r\nexport default Router","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n\nimport Router from './pages/Router';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from \"react-router-dom\";\n\nimport PeerProvider from \"./pages/PeerInfo/PeerInfo\";\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter> {/* <HashRouter basename=\"/TicTacToe\"> */}\n      <PeerProvider>\n          <Router />\n      </PeerProvider>\n    </BrowserRouter>\n  </React.StrictMode>\n  ,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}